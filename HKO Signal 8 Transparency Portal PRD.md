# HKO Signal 8 Transparency Portal - Project Requirements Document

## Project Goal
Build a English-Traditional Chinese bilingual public transparency portal that compares Hong Kong Observatory's official Tropical Cyclone Signal No. 8 against the actual wind data, using a 3-tier classification system to verify whether the issue of Signal No. 8 is needed/early/late.

## Official Standard (https://www.hko.gov.hk/en/education/weather/weather-warnings/00054-the-tropical-cyclone-warning-system-in-hong-kong.html)
The Tropical Cyclone Warning System in Hong Kong
The Hong Kong Observatory conducted a comprehensive review of the tropical cyclone warning system in 2006. During the review process, the Observatory reached out to different sectors of the community to consult their views. A public opinion survey was also carried out to gauge the public needs and expectations with respect to the warning system.
Starting from the tropical cyclone season in 2007, the Observatory implemented a series of measures with respect to the tropical cyclone warning system. In particular, the reference for the issue of No.3 and No.8 signals was expanded from the Victoria Harbour to a network of eight reference anemometers covering the whole of Hong Kong.
In 2013, the Observatory replaced Wetland Park by Lau Fau Shan as one of the eight reference anemometers in the tropical cyclone warning system.
With a view to improving the public understanding of the tropical cyclone warning system and encouraging a better use of the weather information provided by the Observatory, some salient points are given below in the format of questions and answers.
What are the differences between the present tropical cyclone warning system and the old system just before 2007?
The present tropical cyclone warning system has been in use since 2007.
Comparing with the old tropical cyclone warning system before 2007, the present system has changed in the following aspects:
(a) expand the reference for the issue of No.3 and No.8 signals from the Victoria Harbour to a network of eight reference anemometers near sea level covering the whole of Hong Kong (see Fig.1 and Note below);
Figure 1[reference network]
Fig.1 Network of reference anemometers in the tropical cyclone warning system
(b) issue No.3 or No.8 signal (as the case may be) when half or more anemometers in the reference network register or are expected to register strong winds or gale/storm force winds respectively and the wind condition is forecast to persist;
(c) enhance dissemination of regional wind information. In tropical cyclone bulletins for the media, specifically indicate the locations where the winds are significantly higher than the general wind conditions in Hong Kong; and
(d) issue an advisory in tropical cyclone bulletins that the traveling public should check with airlines before departing for the airport when weather conditions likely to cause significant disruptions to flight operations are expected.
[Note: Lau Fau Shan station has replaced the nearby Wetland Park station as a reference anemometer station starting from 2013. The anemometer at Chek Lap Kok has moved from the Centre Runway to the North Runway since 2024.]
In the present system, why only 8 anemometer stations but not all are chosen as the reference stations?
When devising the network of reference anemometer stations, consideration has been given to the terrain of Hong Kong being naturally separated by mountain ranges. The eight anemometers have been selected on account of their good exposure and geographical distribution. Together, they provide a broad picture of the wind condition in Hong Kong.
What is the reason for replacing the reference station at Wetland Park by Lau Fau Shan?
Wetland Park station has been working normally since its launch in November 2005. The station is located inside Wetland Park near Tin Shui Wai in the northwestern part of the New Territories. It is exposed to natural wetlands to its east, while some high-rise buildings are located to its far west (about 500 to 700 metres away). Generally speaking, the station is fairly well exposed. However, the density of buildings near the station has been increasing in recent years. Statistics over the years indicated that the monthly mean wind speed of Wetland Park station was on a gradual decreasing trend in the past few years. This revealed that the wind speed at Wetland Park would be decreasing under the influence of its changing surrounding environment including the construction of new buildings.
In addition, there are planned construction projects about 300 metres to the west of the station. Buildings of 3 to 11 storeys, with the tallest one of about 50 metres high, will be constructed. This is expected to further reduce the exposure to the west of Wetland Park station. To ensure that the tropical cyclone reference anemometer network can continue to reflect the general wind condition over Hong Kong, it is necessary to review the reference station in the northwestern part of the New Territories.
The Lau Fau Shan station is located next to the Wetland Park station. There has been no significant change in the mean wind speed at Lau Fau Shan in the past few years. The station is considered to be a suitable replacement of Wetland Park station.
Why the criterion for the issue of No.9 or No.10 signal is different from that for No.3 or No.8 signal?
As for No.9 and No.10 signals, they are normally meant to warn of direct or near direct hit of a typhoon. As there is enormous spatial variation of wind direction and speed near the eye of a typhoon, there is little point in making reference to winds at a single location in the consideration of signals. Thus, the HKO has all along made reference to the wind condition of the whole territory in deciding on the issue of No.9 and No.10 signals.
Can the tropical cyclone warning system reflect winds in different regions of Hong Kong?
Due to local topography and the built environment, wind condition in different parts of Hong Kong can vary appreciably. A numbered tropical cyclone signal can provide a general warning for the public, but it has an inherent limitation in communicating varying wind speeds at different locations. In the present system, regional wind information will be disseminated to assist people in making decisions for their arrangements.
What is the impact on wind speed when the rainband of a tropical cyclone moves across Hong Kong?
When the rainband of a tropical cyclone is close to or moves across Hong Kong, it is usually accompanied with squalls. Wind speed in places of Hong Kong may abruptly increase . After the passage of the rainband, the high wind speed brought about by intense gusts usually drops in the order of ten minutes. The situation is similar to that when a squall line moves across Hong Kong, bringing short-lived severe and potentially damaging squalls.
How does the Observatory enhance the dissemination of regional wind information?
Regional wind information are readily available on the Observatory website, MyObservatory and from the Dial-a-weather system. The information is updated every 10 minutes. The Observatory will liaise with the media to broadcast such information on an hourly basis when wind conditions at certain locations are significantly above the level indicated by the territory-wide warning signal under the present system.
Are aircraft operations affected by tropical cyclone warning signals?
The tropical cyclone warning system is designed for use by the public. Aircraft operations do not depend on tropical cyclone signals. In respect of wind, aircraft operations at the airport are mainly affected by crosswinds (i.e. winds blowing across the aircraft from the side) as well as windshear and turbulence, rather than wind speed per se. Even if the No. 8 signal is in force, if the wind is blowing along the runway, it may not affect aircraft operation. On the other hand, if the wind is blowing across the runway, it may exceed the operating limit of aircraft, thus affecting aircraft operation. The traveling public should check the latest flight information and the transportation conditions to and fro the airport before departing for the airport.
What should people do if they are in gales-affected region after HKO has issued the No.3 signal?
If the employees have difficulties in reporting for duty during severe weather situations, they should inform their supervisors or employers as soon as practicable. The employers should give prime consideration to employees' safety both in the workplace and during their journeys to and from work. They should also adopt a flexible approach in dealing with cases of absence or late for work due to inclement weather condition. On the student side, parents should pay attention to the announcements on school arrangements made by the Education Bureau, and use their discretion in deciding whether or not to send their children to school based on the condition in their regions. In addition, the Education Bureau and the Labour Department will help reinforce the relevant message to schools, parents and employers.
Is it still needed to have arrangement of work suspension with the present building structures and mass transportation network?
The Observatory issues tropical cyclone warning based on the wind condition in Hong Kong to alert people of the general wind condition over the whole territory. It also provides regional weather information to assist members of the public and various trades and industries to take appropriate precautionary measures and make proper work arrangements. At present, various trades, industries and organisations will make reference to the guidelines provided by the Labour Department and decide their work arrangements having regard to the nature and requirements of their operations when tropical cyclone warning is in force.
Is it possible for the Observatory to enhance the communication with the Education Bureau in inclement weather situations?
The Observatory has been keeping close liaison with the Education Bureau (EDB) during severe weather situations. The Observatory will provide EDB with the necessary weather information in support of their decision-making on class suspension. In addition, the Observatory has also implemented a dedicated webpage for schools in its website to provide regional weather information for reference.

## Official Standard for T3 and T8 (https://www.hko.gov.hk/en/informtc/tcsignal3_ref.htm)
|Please refer this for the T8 standard, in this project, our goal is to monitor if HKO is issuing T8 signal responsibly, because starting from T8, many things will be shutdown in society, if issued properly, it saves life and property, if issued inappropriately, either too early/late/unnecessarily, it will cause the society to suffer from economic lost, by closing down unnecessary, or leaving people no time to prepare for the wind.

Since 2007, the Hong Kong Observatory makes reference to the wind data recorded from a network of eight near-sea level reference anemometers covering the whole of Hong Kong when considering the issuance of Tropical Cyclone Warning Signals, No.3 and No.8. The figure below depicts the network of reference anemometers.

[A figure that shows the reference network]

Network of reference anemometers in the tropical cyclone warning system (see Note below)

The reference anemometers were selected on account of their good exposure and geographical distribution, taking into account the natural separation by Hong Kong mountain ranges. Together, they provide a broad picture of the wind condition in Hong Kong.

The No.3 or No.8 signal, as the case may be, will be issued when half or more anemometers in the reference network register or are expected to register sustained winds within prescribed wind speed ranges and the wind condition is expected to persist. The wind speed range of the No.3 signal is 41-62 km/h and that of the No.8 signal is 63-117 km/h.

When a tropical cyclone is located relatively far from Hong Kong, its outer rainband might occasionally sweep across the territory, bringing squalls to Hong Kong and causing transient winds at four or more of the reference anemometers exceeding the prescribed lower thresholds for the issuance of No.3 or No.8 signals. As the wind condition is not expected to persist after the passage of the rainband, the Observatory generally would not issue the respective signal.

[Note: Lau Fau Shan station has replaced the nearby Wetland Park station as a reference anemometer station starting from 2013. The anemometer at Chek Lap Kok has moved from the Centre Runway to the North Runway since 2024.]

---

## Available Data & Processing

### 1. Raw Wind Data (CSV Files)

**Source:** Hong Kong Observatory 10-minute mean wind observations

**Location:** `typhoon_data/<Event Name>/` folders

**CSV Structure:**
```csv
Date time,Automatic Weather Station,10-Minute Mean Wind Direction(Compass points),10-Minute Mean Speed(km/hour),10-Minute Maximum Gust(km/hour)
202509231410,Central Pier,Northwest,26,34
202509231410,Chek Lap Kok,North,24,30
202509231410,Cheung Chau,North,24,41
...
```

**Key Characteristics:**
- Every csv file include wind data recorded by all the weather stations across Hong Kong at that moment
- Multiple csv files named after `yyyymmdd-hhmm-latest_10min_wind_uc`, means when the data are recorded, which is the "moment" mentioned in the above key characteristics
- Filtering needed when using the data - HKO only use the below 8 weather stations as reference when issuing signal No. 8

**Reference Network (8 Stations - Official HKO Criteria):**
1. Cheung Chau (Èï∑Ê¥≤)
2. Chek Lap Kok (Ëµ§È±≤Ëßí)
3. Kai Tak (ÂïüÂæ∑)
4. Lau Fau Shan (ÊµÅÊµÆÂ±±)
5. Sai Kung (Ë•øË≤¢)
6. Sha Tin (Ê≤ôÁî∞)
7. Ta Kwu Ling (ÊâìÈºìÂ∂∫)
8. Tsing Yi (ÈùíË°£)

---

### 2. Event Metadata

**6 Typhoon Events (2023-2025):**

| Event ID | Name | Chinese | Year | Date Range | Official Signal 8 Start | Official Signal 8 End | Official Signal 10 Start | Official Signal 10 End | Severity |
|----------|------|---------|------|------------|------------------------|----------------------|-------------------------|------------------------|----------|
| talim | Talim | Ê≥∞Âà© | 2023 | 2023-07-17 | 2023-07-17 00:40 | 2023-07-17 16:20 | - | - | T8 |
| tapah | Tapah | Â°îÂ∑¥ | 2025 | 2025-09-07 to 2025-09-08 | 2025-09-07 21:20 | 2025-09-08 13:10 | - | - | T8 |
| yagi | Yagi | Êë©ÁæØ | 2024 | 2024-09-05 to 2024-09-06 | 2024-09-05 18:20 | 2024-09-06 12:40 | - | - | T8 |
| toraji | Toraji | Ê°ÉËäù | 2024 | 2024-11-13 to 2024-11-14 | 2024-11-13 23:10 | 2024-11-14 10:20 | - | - | T8 |
| wipha | Wipha | ÈüãÂ∏ï | 2025 | 2025-07-19 to 2025-07-20 | 2025-07-20 00:20 | 2025-07-20 19:40 | 2025-07-20 09:20 | 2025-07-20 16:10 | T10 |
| ragasa | Ragasa | Ê®∫Âä†Ê≤ô | 2025 | 2025-09-23 to 2025-09-24 | 2025-09-23 14:20 | 2025-09-24 20:20 | 2025-09-24 02:40 | 2025-09-24 13:20 | T10 |

---

### 3. Processed JSON Outputs (for static site)

#### Structure
- `data/index.json` ‚Äî summary array of all events (id, name, tier result, signal timings, headline stats, casualty/property info).
- `data/events/<eventId>.json` ‚Äî detailed payload per event:
  - `metadata`: names, severity, official signal timings, narrative notes.
  - `stationReadings`: time-ordered list of the 8 reference stations with 10-min mean speeds (filtered + converted from raw CSVs).
  - `tierEvaluation`: detected tier, early-warning detection timestamp, supporting calculations.
  - `derivedMetrics`: early-warning minutes, station persistence windows, casualty/property values if available.

#### Pipeline
- Add new typhoon CSVs under `typhoon_data/<eventId>/raw/`.
- Run a preprocessing script (Node/Python) that:
  1. Filters the 8 reference stations.
  2. Computes Tier 1/2 detection windows.
  3. Calculates early-warning minutes (official vs algorithm detection).
  4. Emits `index.json` + per-event JSONs.
- Version JSON files with deterministic naming so future events only require dropping new CSVs and rerunning the script (no manual hand edits).

---

## 3-Tier Classification System

### Classification Logic

**Tier 1: Sustained T8 Wind Speed Verified** üü¢
- **Criteria:** ‚â•4 of 8 reference stations recorded ‚â•63 km/h mean wind for ‚â•3 consecutive 10-minute intervals (‚âà30 minutes)
- **Meaning:** Observation data confirms sustained gale conditions matching HKO's published "expected to persist" criterion

**Tier 2: Reappear T8 Wind Speed Verified** ‚ö†Ô∏è
- **Criteria:** Wind-lull-wind pattern detected:
  - Initial segment: ‚â•4 stations ‚â•63 km/h (one or more consecutive intervals)
  - Lull: T8 standard (‚â•4 stations ‚â•63 km/h) not met
  - Re-emergence: ‚â•4 stations ‚â•63 km/h again
- **Gate:** Applies if Tier 1 persistence is **absent**
- **Meaning:** Observation data confirms gale re-emergence matching HKO's published "expected to persist" criterion

**Tier 3: UNVERIFIED** ‚ùì
- **Criteria:** Neither Tier 1 persistence nor Tier 2 pattern detected
- **Meaning:** Observation data alone cannot confirm standard adherence; HKO needs to explain to public that why a T8 signal is issued

**No Signal** ‚ûñ
- No official signal 8 was issued

### Key Thresholds

| Parameter | Value | Notes |
|-----------|-------|-------|
| T8 Wind Speed | ‚â•63 km/h | Gale force (HKO official threshold) |
| Station Count | ‚â•4 of 8 | Multi-stationfrom reference network criterion (HKO "generally in HK") |
| Persistence | ‚â•3 consecutive 10-min intervals | ‚âà30 minutes sustained winds |

### Pattern Detection Algorithm (Tier 2)

```
State machine:
1. Search for initial meet (‚â•4 stations)
2. Confirm lull (T8 condition not met)
3. Confirm re-emergence (‚â•4 stations again)
4. Only verify this if NO Tier 1 persistence detected in same window
```

---

## Terminology Standards

**Preferred Terms:**
- **Early Warning Time** (ÊèêÂâçÈ†êË≠¶ÊôÇÈñì) - Time between HKO signal issuance and algorithm detection of persistent gales
- **Verification Tier** - Classification level (Sustained T8 Wind Speed Verified/Reappear T8 Wind Speed Verified/unverified)
- **Persistent** - Sustained for ‚â•30 minutes (‚â•3 consecutive 10-min intervals)
- **Based on Observation** - Using actual recorded wind data

**Avoid:**
- "Appropriate/Inappropriate" (use neutral tier classification)
- Any professional term, this project is public facing, user with no background knowledge is expected.

---

## User Interface Requirements

### Primary Pages

1. **Homepage (index.html)**
   - Key metrics (avg early warning time, tier counts, etc.)
   - Event cards (clickable, tier-based border colors)
   - Bilingual toggle (EN/‰∏≠)
   - Charts:
    		  Pie Chart:
	* How many T8 signal was issued when standard is met (Tier 1 and 2)
	* How many T8 signal was issued when standard not met (Tier 3)
	# I‚Äôm thinking of further develop this pie chart, like adding how many signal was issued early/late than actual, but not sure if it is a good idea or will make the chart overly complicated
   	Chart:
	Not yet decide which chart to use, but this would be used to show the correlation between casualty/property lost and how much time early was T8 issued before wind actually come
	Other charts that you think help people to understand the data better

2. **Event Detail**
   - Summary panel
   - ChartsÔºö
	- Not yet decide to use chart or not, and if yes, which chart to use for each of the typhoon. The goal is to show how much time was the typhoon signal issued earlier than the actual wind arrives
	- Other charts that you think that could help people to understand the data better
   - Station statistics cards
   - FAQ accordions

3. **Comparison Tool**
   - Multi-event selection
   - Side-by-side metrics table
   - Side-by-side charts
   - Other elements you think needed

4. **Methodology**
   - Tier definitions
   - HKO vs Our Algorithm comparison
   - FAQ section
   - Why Early Warning Time matters (Gives people time to react and go to safe places, etc.)
   - Why Responsible Warning matters too (Every signal 8 would lead to society pause, productivity lost, and people with daily paid job may have no money to live, etc.)

5. **Audit Page** (deferred; do not scope or mention in UI yet)
   - Forecast-based compliance criteria
   - Advanced/technical track (separate from observation portal)

### Visual Design Specs

**Colors and Icons**
- Make sure elements used can be clearly differ from each other from user pov

**Responsive & Mobile**
- Mobile-first breakpoints (~768px) collapse layouts into a single column and convert navigation into a simple hamburger or top-sheet.
- Event cards become full-width stack or swipeable carousel; charts stack vertically with touch-friendly legends/toggles.
- Maintain consistent spacing/padding so bilingual text of different lengths remains readable on narrow screens.

**Chart Requirements:**
- Responsive (mobile-first)
- Threshold of T8 should be marked in the table if needed, i.e. if you use number of stations detect windspeed >=38km/h for y axis, you should add a line at y=4 to indicate the standard
- Proper legends and labels
- Reference-station visuals must use only the official 8-station network to stay simple for the public audience.

**Chart Line-up**
1. **Tier Compliance Pie** ‚Äî shows share of events where standards were met (Tier 1 + Tier 2) vs unverified (Tier 3). Keep the outer ring strictly for compliance; optional early/on-time/late detail can be a future enhancement.
2. **Early Warning Lead/Lag Bar Chart** ‚Äî horizontal bar chart per event, sorted by minutes. Positive bars = issued early (extend right), negative bars = issued late (extend left). Include a zero axis line for readability.
3. **Casualty/Property vs Early Warning Scatter** ‚Äî early-warning minutes on x-axis, casualty or property metric on y-axis. Encode tier by color and severity (T8/T10) by point size. Tooltips should surface event name, early-warning delta, and casualty/property figures; split into two scatter panels if mixing casualty and property makes the y-axis noisy.
4. **Event Timeline Heatmap** ‚Äî 10-min timeline on x-axis, the 8 reference stations on y-axis, color-coded by wind speed relative to 63 km/h threshold. Highlight when ‚â•4 stations meet the standard to illustrate persistence visually.
5. **Per-event Interactive Timeline Chart** ‚Äî plot station counts or wind speeds with a T8 threshold reference line and markers for official vs detected timings.

---

## Bilingual Support Requirements

**Languages:** English (primary), Traditional Chinese (ÁπÅÈ´î‰∏≠Êñá)

**Implementation:**
- Centralized JSON dictionary (e.g., `i18n/en.json`, `i18n/zh-hk.json`) containing keys for navigation labels, chart titles, glossary terms, and FAQs. Components load strings by key according to the active language.
- Inline HTML elements can continue to use `data-en` / `data-zh-hk` attributes for simple static text, but canonical phrasing should live in the JSON dictionaries to keep translations synchronized.

**Example:**
```html
<h2 data-key="timelineComparison" data-en="Timeline Comparison" data-zh-hk="ÊôÇÈñìÂ∞çÊØî"></h2>
```

---

## Technical Constraints

1. **Static Site** - No backend server (GitHub Pages deployment)
2. **Framework-free** - Vanilla HTML/CSS/JS (current) OR modern framework (Vite/React recommended for rebuild)
3. **Data Format** - JSON only (pre-generated, no dynamic API)
4. **Chart Library** - Chart.js 4.x (already integrated)
5. **Browser Support** - Modern browsers (ES6+), no IE11
6. **Mobile-first** - Responsive design, 60%+ Hong Kong users on mobile

---

## Success Criteria

### Functional Requirements
‚úÖ Display 6 typhoon events with tier classification, do not hard code because more typhoon will be added into the project, and also pay attention that some typhoon may have some attributes that other typhoon doesn't have, e.g. casualty and property lost data of typhoon in 2025 haven't been uploaded to HKO's official website.
‚úÖ Show early warning time calculation (Official start ‚Üí Algorithm detection start)
‚úÖ Bilingual interface with language toggle
‚úÖ Interactive timeline chart per event
‚úÖ Comparison tool for multi-event analysis
‚úÖ Tier-based visual distinction (colors, icons, borders, etc.)

### Data Accuracy
‚úÖ Reference network strictly 8 stations (HKO official reference network)

### Educational Framing
‚úÖ Neutral terminology (no "inappropriate" judgments)
‚úÖ Explain early warning time as preparation benefit, also explain unnecessary T8 signal will cause to unwanted economic/productivity loss etc.
‚úÖ Separate observation track from forecast audit
‚úÖ Transparent about algorithm limitations

---

## Files & Folders Summary

**What you have:**
- typhoon_data - Raw HKO CSV files (6 events)
- Event metadata table (6 events with official signal timings)
- Classification rules (3-tier system with gating logic)
- Station list (8 reference stations with metadata)

**What needs to be built:**
- Web portal
- Charts
- Bilingual UI system
- Responsive navigation and layout
